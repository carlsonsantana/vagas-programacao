(this["webpackJsonpvagas-programacao"]=this["webpackJsonpvagas-programacao"]||[]).push([[0],{103:function(e,t,a){},109:function(e,t,a){},113:function(e,t,a){},252:function(e,t,a){},254:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(32),o=a.n(l);a(103);function i(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Vagas de Programa\xe7\xe3o"))}var s=a(24),c=a(25),u=a(30),m=a(29),d=a(33),h=a(7),b=a(84),f=a.n(b),p=a(85),g=a.n(p),E=a(86),v=a.n(E),j=a(87),k=a.n(j),w=a(88),y=a.n(w),D=(a(109),a(89)),N=a.n(D);function J(e){var t=e.date,a=new N.a(new Date,new Date(t)),n=Math.round(a.days()),l=Math.round(a.hours()),o=Math.ceil(a.minutes()),i=n>=1,s=!i&&l>=1;return r.a.createElement("small",null,i?n>1?"".concat(n," dias "):"1 dia ":s?l>1?"".concat(l," horas "):"1 hora ":o>1?"".concat(o," minutos "):"1 minuto ","atr\xe1s")}function x(e){var t=e.job,a=y()(k()(t.description,150,!1," ..."));return r.a.createElement("li",{className:"list-group-item job-item"},r.a.createElement(d.b,{className:"list-group-item-action",to:"/job/".concat(t.id)},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("strong",{className:"mb-1"},t.title),r.a.createElement(J,{date:t.publishedAt})),r.a.createElement("p",{className:"mb-1"},a)))}var C=a(63),H=a.n(C),O=(a(112),a(113),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a),e=t.call(this);var n=new Date,r=new Date(n.getTime()-2592e6);return e.state={title:"",description:"",startDate:r,endDate:n},e}return Object(c.a)(a,[{key:"titleHandleChange",value:function(e){this.changeState({title:e.target.value})}},{key:"descriptionHandleChange",value:function(e){this.changeState({description:e.target.value})}},{key:"startDateHandleChange",value:function(e){this.changeState({startDate:e})}},{key:"endDateHandleChange",value:function(e){this.changeState({endDate:e})}},{key:"changeState",value:function(e){this.setState(e,this.filterJobs.bind(this))}},{key:"filterJobs",value:function(){this.props.filterHandler(this.state)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Filtros de pesquisa de vagas"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"job-title"},"T\xedtulo"),r.a.createElement("input",{type:"text",className:"form-control",id:"job-title",onChange:this.titleHandleChange.bind(this)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"job-description"},"Descri\xe7\xe3o"),r.a.createElement("input",{type:"text",className:"form-control",id:"job-description",onChange:this.descriptionHandleChange.bind(this)})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Vagas publicadas entre"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"job-start-date"},"A partir da data"),r.a.createElement(H.a,{id:"job-start-date",className:"form-control",selected:this.state.startDate,onChange:this.startDateHandleChange.bind(this)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"job-end-date"},"At\xe9 a data"),r.a.createElement(H.a,{id:"job-end-date",className:"form-control",selected:this.state.endDate,onChange:this.endDateHandleChange.bind(this)})))))}}]),a}(r.a.Component)),M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={loadedJobs:[],hasMoreJobs:!0},e.index=0,e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){e.jobs.length!==this.props.jobs.length&&this.setState({hasMoreJobs:!0})}},{key:"loadJobs",value:function(){var e=this.props.jobs,t=e.slice(0,10*this.index);this.index++,this.setState({loadedJobs:t,hasMoreJobs:10*this.index<e.length})}},{key:"render",value:function(){var e=this.state,t=e.loadedJobs,a=e.hasMoreJobs;return r.a.createElement("div",null,r.a.createElement(O,{filterHandler:this.props.filterHandler}),r.a.createElement(v.a,{element:"ul",className:"list-group",loadMore:this.loadJobs.bind(this),hasMore:a},t.map((function(e){return r.a.createElement(x,{key:e.id,job:e})}))))}}]),a}(r.a.Component),S=a(93),T=a.n(S),A=a(94),F=a.n(A),B=a(95),P=a(97),R=a(96),V=a.n(R);a(252);function W(e){var t=e.jobs,a=Object(h.f)().id;if(null===t||0===t.length)return r.a.createElement(F.a,{type:"spokes",color:"#000"});for(var n=null,l=0,o=t.length;l<o;l++)if(t[l].id===a){n=t[l];break}return r.a.createElement("article",{className:"job-details"},r.a.createElement("header",{className:"d-flex w-100 justify-content-between"},r.a.createElement("h2",{className:"mb-1"},n.title),r.a.createElement(J,{date:n.publishedAt})),r.a.createElement("section",null,r.a.createElement("section",null,r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},"P\xe1gina onde a vaga foi publicada:"," ",r.a.createElement("a",{href:n.url,target:"_blank",rel:"noreferrer noopener"},n.url)," ",r.a.createElement("a",{href:n.url,target:"_blank",rel:"noreferrer noopener",className:"text-body"},r.a.createElement(B.a,{icon:P.a}))))),r.a.createElement("section",null,r.a.createElement(T.a,{source:n.description,plugins:[V.a]}))))}var _=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={jobs:[],allJobs:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://carlsonsantana.github.io/static-jobs-api/data.json",{cache:"no-store",method:"GET"}).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(e){return e.map((function(e){return e.id=f()("".concat(e.url,":").concat(e.publishedAt)),e}))})).then((function(e){return e.map((function(e){return e.description=g()(e.description),e}))})).then((function(t){return e.setState({allJobs:t,jobs:t})}))}},{key:"filterHandler",value:function(e){var t=new RegExp(e.title,"gi"),a=new RegExp(e.description,"gi"),n=new Date(e.endDate.getTime()+864e5),r=this.state.allJobs.filter((function(r){var l=new Date(r.publishedAt);return t.test(r.title)&&a.test(r.description)&&l.getTime()>=e.startDate.getTime()&&l.getTime()<n.getTime()}));this.setState({jobs:r})}},{key:"render",value:function(){var e=this,t=this.state.jobs;return r.a.createElement("main",null,r.a.createElement(d.a,{basename:"/vagas-programacao/"},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(M,{jobs:t,filterHandler:e.filterHandler.bind(e)})}}),r.a.createElement(h.a,{exact:!0,path:"/job/:id",render:function(){return r.a.createElement(W,{jobs:t})}}))))}}]),a}(r.a.Component);var q=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(i,null),r.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(253);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,t,a){e.exports=a(254)}},[[98,1,2]]]);
//# sourceMappingURL=main.f0080aee.chunk.js.map